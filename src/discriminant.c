/* ************************************************************************** */
/*                                                                            */
/*                                                        ::::::::            */
/*   discriminant.c                                     :+:    :+:            */
/*                                                     +:+                    */
/*   By: mmosk <mmosk@student.codam.nl>               +#+                     */
/*                                                   +#+                      */
/*   Created: 2024/01/31 13:50:28 by mmosk         #+#    #+#                 */
/*   Updated: 2024/02/02 14:29:16 by mmosk         ########   odam.nl         */
/*                                                                            */
/* ************************************************************************** */

#include "push_swap.h"

//Variable base for the discriminant.
//For this grid:
//Y is the value of the previous digit in the discriminant.
//X is the current value of the current digit in the discriminant.
//Stored value is the next value of the current digit in the discriminant.
//0x0 should not appear, 0xF means the digit has reached the end of its base
//and should increment the previous digit.
//I shan't be held accountable for any optometric costs you incur in trying to
//read it.
const static unsigned char	g_crazebase[16][16]
	= {
	{0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9, 0xA, 0xE, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9, 0xA, 0xF},
	{0x1, 0x5, 0x0, 0x0, 0x0, 0x6, 0x7, 0x8, 0x9, 0xA, 0xE, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x5, 0x0, 0x0, 0x0, 0x6, 0x7, 0x8, 0x9, 0xA, 0xE, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x5, 0x0, 0x0, 0x0, 0x6, 0x7, 0x8, 0x9, 0xA, 0xE, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x2, 0x3, 0x4, 0x5, 0x9, 0x0, 0x0, 0x0, 0xE, 0x0, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x2, 0x3, 0x4, 0x6, 0x0, 0xA, 0x0, 0x0, 0x0, 0xE, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0xE, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x2, 0x3, 0x4, 0x8, 0x0, 0x0, 0x0, 0x9, 0xA, 0xE, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x2, 0x3, 0x4, 0x5, 0x9, 0x0, 0x0, 0x0, 0xE, 0x0, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x2, 0x3, 0x4, 0x6, 0x0, 0xA, 0x0, 0x0, 0x0, 0xE, 0x0, 0x0, 0x0, 0xF},
	{0x0},
	{0x0},
	{0x0},
	{0x2, 0x0, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9, 0xA, 0xE, 0x0, 0x0, 0x0, 0xF},
	{0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9, 0xA, 0xE, 0x0, 0x0, 0x0, 0xF}
};

t_ulong	iterate_discriminant(t_ulong discriminant)
{
	int				depth;
	unsigned char	current;

	depth = 0;
	while (depth < ITERATIONS)
	{
		current = g_crazebase[discriminant << (depth + 1) * DSC_SIZE & DSC_LAST]
			[discriminant << depth * DSC_SIZE & DSC_LAST];
	}
}
